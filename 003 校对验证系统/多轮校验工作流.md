# 多轮校验工作流：基于mk-saas架构的新项目迁移改造

## 📋 项目目标

基于新项目需求，使用mk-saas开发架构，快速开发一套可出海的SaaS应用。

## 🎯 核心任务

通过多轮校验对比，不断校对mk-saas框架系统与目标设计系统之间的差异，寻找准确的系统设计方案，完善在mk-saas架构下新应用的需求文档、计划任务文档等spec文件。

---

## 📖 专业名词解释

### 新项目
要构建的项目，基于mk-saas框架。项目可能已经有部分代码，或者仅有初始化的设计需求文档。

### mk-saas
一套标准化的SaaS出海开发框架，包含完整的UI前端、后端、部署、设计内容。但针对新项目目标可能缺失一些功能。

### mk-saas系统目前的架构
一般在项目下有一个QA文件夹，通过QA分析了解项目的实现细节。

### 新项目设计需求
一般会提供新项目spec的需求requirement文件。如果项目有部分代码，也会提供QA文件夹，帮助深入理解项目。

---

## 🔄 工作流设计

### 第一步：深入理解mk-saas系统架构

**目标**：全面了解mk-saas的现有能力和设计标准

**方法**：
- 完整的代码分析
- 阅读代码工程中的QA文档
- 理解现有功能模块和技术栈

**输出**：
- mk-saas架构理解文档
- 现有功能清单
- 技术能力评估

---

### 第二步：第一轮校对（基于mk-saas标准）

**目标**：基于mk-saas现有设计标准，对新项目需求提出修改意见

**原则**：
- 以mk-saas现有设计标准为基准
- 如果某些功能在mk-saas中没有，在新设计需求中有，暂时忽略
- 这些缺失功能留在下一轮处理

**操作**：
1. 对比新项目需求与mk-saas现有能力
2. 提出第一版修改意见
3. 创建 **v1.0版本** 的新需求文件
4. 明确标注哪些功能在mk-saas中是缺失的

**输出**：
- 需求文档 v1.0
- mk-saas缺失功能清单
- 第一轮修改意见

---

### 第三步：第二轮校对（合理性评估）

**目标**：在v1.0基础上进行再次评估，优化设计合理性

**方法**：
- 通过模型评估设计的合理性
- 检查需求的完整性和可行性
- 优化技术方案和实施路径

**操作**：
1. 评估v1.0需求文档的合理性
2. 提出优化建议
3. 形成 **v1.1版本** 的需求文件

**输出**：
- 需求文档 v1.1
- 第二轮优化建议
- 设计合理性评估报告

---

### 第四步：第三轮校对（反向补充mk-saas能力）

**目标**：根据新项目需求，识别并补充mk-saas框架缺失的能力

**原则**：
- 反向思考：从新项目需求出发
- 识别mk-saas需要增加的能力
- 确保这些能力具有通用性，可复用到其他项目

**操作**：
1. 根据v1.1修改意见，梳理mk-saas缺失的能力
2. 评估这些能力的通用性和必要性
3. 将需要增加的能力添加到需求文档中
4. 形成 **v2.0版本** 的需求文件

**输出**：
- 需求文档 v2.0
- mk-saas能力扩展清单
- 框架改进建议

---

## 📊 版本演进路径

```
初始需求
    ↓
[第一轮校对] 基于mk-saas标准对齐
    ↓
需求文档 v1.0（标注缺失功能）
    ↓
[第二轮校对] 合理性评估和优化
    ↓
需求文档 v1.1（优化后的需求）
    ↓
[第三轮校对] 反向补充mk-saas能力
    ↓
需求文档 v2.0（完整的需求 + 框架扩展）
```

---

## ✅ 工作流检查清单

### 第一步完成标准
- [ ] 完整阅读mk-saas代码
- [ ] 理解QA文档内容
- [ ] 列出现有功能清单
- [ ] 评估技术栈和架构

### 第二步完成标准
- [ ] 对比新项目需求与mk-saas能力
- [ ] 创建v1.0需求文档
- [ ] 标注mk-saas缺失功能
- [ ] 提出第一轮修改意见

### 第三步完成标准
- [ ] 评估v1.0的合理性
- [ ] 提出优化建议
- [ ] 创建v1.1需求文档
- [ ] 完成设计合理性评估

### 第四步完成标准
- [ ] 识别mk-saas缺失能力
- [ ] 评估能力的通用性
- [ ] 创建v2.0需求文档
- [ ] 提出框架改进建议

---

## 💡 最佳实践

1. **保持文档版本清晰**：每轮校对都创建新版本，便于追溯和对比
2. **明确标注差异**：清楚标记哪些是mk-saas现有能力，哪些是需要新增的
3. **注重通用性**：补充mk-saas能力时，考虑其他项目的复用价值
4. **迭代优化**：每轮校对都是对前一轮的优化，而不是推翻重来
5. **文档化思考**：记录每轮校对的思考过程和决策依据

---

## 📝 相关文档

- mk-saas框架文档：`/mksaas-template/`
- 新项目需求文档：`/003 校对验证系统/`
- QA分析文档：`/QA/`
- 需求设计模板：`/需求设计模板/`

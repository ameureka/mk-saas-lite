# é—®é¢˜1ï¼šMkSaaS æ˜¯å¦‚ä½•è®¾è®¡åšå®¢çš„å†…å®¹çš„ï¼Ÿ

## æ¦‚è¿°

MkSaaS ä½¿ç”¨åŸºäºæ–‡ä»¶çš„å†…å®¹ç®¡ç†ç³»ç»Ÿï¼ˆFile-based CMSï¼‰ï¼Œé€šè¿‡ MDX æ ¼å¼ç®¡ç†åšå®¢å†…å®¹ï¼Œç»“åˆ Fumadocs æ¡†æ¶å®ç°å†…å®¹çš„ç»„ç»‡å’Œæ¸²æŸ“ã€‚

## æ ¸å¿ƒæŠ€æœ¯æ ˆ

- **Fumadocs MDX**: ç”¨äº MDX å†…å®¹çš„è§£æå’Œç®¡ç†
- **Next.js 15**: åº”ç”¨æ¡†æ¶
- **TypeScript**: ç±»å‹å®‰å…¨
- **Zod**: Schema éªŒè¯

## å†…å®¹ç»„ç»‡ç»“æ„

### ç›®å½•ç»“æ„

```
content/
â”œâ”€â”€ author/          # ä½œè€…ä¿¡æ¯
â”œâ”€â”€ blog/            # åšå®¢æ–‡ç« 
â”œâ”€â”€ category/        # æ–‡ç« åˆ†ç±»
â”œâ”€â”€ changelog/       # æ›´æ–°æ—¥å¿—
â”œâ”€â”€ docs/            # æ–‡æ¡£
â””â”€â”€ pages/           # é™æ€é¡µé¢ï¼ˆéšç§æ”¿ç­–ã€æœåŠ¡æ¡æ¬¾ç­‰ï¼‰
```

### å†…å®¹ç±»å‹å®šä¹‰

åœ¨ `source.config.ts` ä¸­å®šä¹‰äº†å¤šç§å†…å®¹é›†åˆï¼š

#### 1. åšå®¢æ–‡ç«  (Blog)
```typescript
export const blog = defineCollections({
  type: 'doc',
  dir: 'content/blog',
  schema: frontmatterSchema.extend({
    image: z.string(),              // æ–‡ç« å°é¢å›¾
    date: z.string().date(),        // å‘å¸ƒæ—¥æœŸ
    published: z.boolean().default(true),  // æ˜¯å¦å‘å¸ƒ
    premium: z.boolean().optional(), // æ˜¯å¦ä¸ºä»˜è´¹å†…å®¹
    categories: z.array(z.string()), // åˆ†ç±»æ ‡ç­¾
    author: z.string(),              // ä½œè€…ID
  }),
});
```

#### 2. ä½œè€…ä¿¡æ¯ (Author)
```typescript
export const author = defineCollections({
  type: 'doc',
  dir: 'content/author',
  schema: z.object({
    name: z.string(),
    avatar: z.string(),
    description: z.string().optional(),
  }),
});
```

#### 3. åˆ†ç±» (Category)
```typescript
export const category = defineCollections({
  type: 'doc',
  dir: 'content/category',
  schema: z.object({
    name: z.string(),
    description: z.string().optional(),
  }),
});
```

#### 4. æ›´æ–°æ—¥å¿— (Changelog)
```typescript
export const changelog = defineCollections({
  type: 'doc',
  dir: 'content/changelog',
  schema: frontmatterSchema.extend({
    version: z.string(),
    date: z.string().date(),
    published: z.boolean().default(true),
  }),
});
```

## åšå®¢é…ç½®

åœ¨ `src/config/website.tsx` ä¸­é…ç½®åšå®¢åŠŸèƒ½ï¼š

```typescript
blog: {
  enable: true,           // å¯ç”¨åšå®¢åŠŸèƒ½
  paginationSize: 12,     // æ¯é¡µæ˜¾ç¤ºæ–‡ç« æ•°
  relatedPostsSize: 3,    // ç›¸å…³æ–‡ç« æ•°é‡
}
```

## å†…å®¹ç¼–å†™æ ¼å¼

### MDX æ–‡ä»¶ç¤ºä¾‹

```mdx
---
title: "æ–‡ç« æ ‡é¢˜"
description: "æ–‡ç« æè¿°"
image: "/images/blog/article-cover.jpg"
date: "2024-01-01"
published: true
premium: false
categories: ["æŠ€æœ¯", "æ•™ç¨‹"]
author: "fox"
---

# æ–‡ç« æ­£æ–‡

è¿™é‡Œæ˜¯æ–‡ç« å†…å®¹ï¼Œæ”¯æŒ Markdown å’Œ React ç»„ä»¶ã€‚

<CustomComponent />
```

## å›½é™…åŒ–æ”¯æŒ

åšå®¢å†…å®¹æ”¯æŒå¤šè¯­è¨€ï¼š

```typescript
i18n: {
  defaultLocale: 'en',
  locales: {
    en: {
      flag: 'ğŸ‡ºğŸ‡¸',
      name: 'English',
      hreflang: 'en',
    },
    zh: {
      flag: 'ğŸ‡¨ğŸ‡³',
      name: 'ä¸­æ–‡',
      hreflang: 'zh-CN',
    },
  },
}
```

ç¿»è¯‘æ–‡ä»¶ä½äºï¼š
- `messages/en.json`
- `messages/zh.json`

## è·¯ç”±è®¾è®¡

åšå®¢è·¯ç”±éµå¾ªå›½é™…åŒ–æ¨¡å¼ï¼š

```
/[locale]/blog              # åšå®¢åˆ—è¡¨
/[locale]/blog/[slug]       # æ–‡ç« è¯¦æƒ…
/[locale]/blog/category/[category]  # åˆ†ç±»é¡µé¢
/[locale]/changelog         # æ›´æ–°æ—¥å¿—
```

## å›¾ç‰‡å¤„ç†

### å›¾ç‰‡é…ç½®

åœ¨ `next.config.ts` ä¸­é…ç½®ï¼š

```typescript
images: {
  unoptimized: true,  // ç¦ç”¨è‡ªåŠ¨ä¼˜åŒ–ï¼ˆèŠ‚çœ Vercel é…é¢ï¼‰
  remotePatterns: [
    {
      protocol: 'https',
      hostname: 'cdn.mksaas.me',
    },
    // ... å…¶ä»–å…è®¸çš„åŸŸå
  ],
}
```

### å›¾ç‰‡å­˜å‚¨

- æœ¬åœ°å›¾ç‰‡ï¼š`public/images/`
- CDN å›¾ç‰‡ï¼šé€šè¿‡ Storage æ¨¡å—ä¸Šä¼ åˆ° S3/R2

## SEO ä¼˜åŒ–

### 1. å…ƒæ•°æ®é…ç½®

```typescript
metadata: {
  images: {
    ogImage: '/og.png?v=20250517',
    logoLight: '/logo.png',
    logoDark: '/logo-dark.png',
  },
  social: {
    github: 'https://github.com/javayhu',
    twitter: 'https://mksaas.link/fox-x',
    // ... å…¶ä»–ç¤¾äº¤åª’ä½“é“¾æ¥
  },
}
```

### 2. URL é‡å®šå‘

åœ¨ `next.config.ts` ä¸­é…ç½® 301 é‡å®šå‘ï¼š

```typescript
async redirects() {
  return [
    {
      source: '/algorithm',
      destination: '/blog/algorithm',
      permanent: true,
    },
    // ... æ›´å¤šé‡å®šå‘è§„åˆ™
  ];
}
```

## å†…å®¹æ¸²æŸ“æµç¨‹

1. **å†…å®¹è§£æ**: Fumadocs MDX åœ¨æ„å»ºæ—¶è§£æ MDX æ–‡ä»¶
2. **ç±»å‹ç”Ÿæˆ**: æ ¹æ® Schema ç”Ÿæˆ TypeScript ç±»å‹
3. **è·¯ç”±ç”Ÿæˆ**: Next.js æ ¹æ®æ–‡ä»¶ç»“æ„ç”ŸæˆåŠ¨æ€è·¯ç”±
4. **é¡µé¢æ¸²æŸ“**: ä½¿ç”¨ Fumadocs UI ç»„ä»¶æ¸²æŸ“å†…å®¹
5. **å›½é™…åŒ–**: next-intl å¤„ç†å¤šè¯­è¨€å†…å®¹

## ç‰¹è‰²åŠŸèƒ½

### 1. ä»˜è´¹å†…å®¹æ”¯æŒ
é€šè¿‡ `premium: true` æ ‡è®°ä»˜è´¹æ–‡ç« ï¼Œç»“åˆç”¨æˆ·è®¢é˜…çŠ¶æ€æ§åˆ¶è®¿é—®ã€‚

### 2. ç›¸å…³æ–‡ç« æ¨è
æ ¹æ®åˆ†ç±»å’Œæ ‡ç­¾è‡ªåŠ¨æ¨èç›¸å…³æ–‡ç« ã€‚

### 3. ä½œè€…ç³»ç»Ÿ
æ”¯æŒå¤šä½œè€…ï¼Œæ¯ç¯‡æ–‡ç« å…³è”ä½œè€…ä¿¡æ¯ã€‚

### 4. åˆ†ç±»ç®¡ç†
çµæ´»çš„åˆ†ç±»ç³»ç»Ÿï¼Œæ”¯æŒå¤šåˆ†ç±»æ ‡ç­¾ã€‚

### 5. å‘å¸ƒæ§åˆ¶
é€šè¿‡ `published` å­—æ®µæ§åˆ¶æ–‡ç« æ˜¯å¦å…¬å¼€ã€‚

## æœ€ä½³å®è·µ

1. **æ–‡ä»¶å‘½å**: ä½¿ç”¨ kebab-caseï¼Œå¦‚ `my-blog-post.mdx`
2. **å›¾ç‰‡ä¼˜åŒ–**: ä½¿ç”¨ WebP æ ¼å¼ï¼Œå‹ç¼©åä¸Šä¼ 
3. **SEO å‹å¥½**: å¡«å†™å®Œæ•´çš„ title å’Œ description
4. **å†…å®¹ç»“æ„**: ä½¿ç”¨æ¸…æ™°çš„æ ‡é¢˜å±‚çº§
5. **ä»£ç é«˜äº®**: ä½¿ç”¨ Shiki è¿›è¡Œä»£ç è¯­æ³•é«˜äº®

## æ€»ç»“

MkSaaS çš„åšå®¢ç³»ç»Ÿé‡‡ç”¨ç°ä»£åŒ–çš„æ–‡ä»¶é©±åŠ¨æ–¹å¼ï¼Œé€šè¿‡ MDX å®ç°å†…å®¹ä¸ä»£ç çš„å®Œç¾ç»“åˆï¼Œé…åˆå¼ºå¤§çš„ç±»å‹ç³»ç»Ÿå’Œå›½é™…åŒ–æ”¯æŒï¼Œä¸ºå¼€å‘è€…æä¾›äº†çµæ´»ä¸”æ˜“äºç»´æŠ¤çš„åšå®¢è§£å†³æ–¹æ¡ˆã€‚
